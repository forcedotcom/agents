{
  "isSuccess": true,
  "agentString": "# A simple weather assistant agent\nsystem:\n  prompt:\n      You are a helpful weather assistant. You help users find weather information\n      for their location. First, ask the user for their city and country if not already\n      provided.\n\nconfig:\n  agent_name: \"ServiceBot\"\n\nvariables:\n  user_city: string = \"\"\n  user_country: string  = \"\"\n\ntopic weather_assistant:\n  description: \"A basic weather assistant demonstrating some simple state-based variable updates\"\n  variables:\n      current_weather: object = {}\n\n  action_definitions:\n      get_weather:\n          description: \"Get current weather information for a specific city and country\"\n          parameters:\n              city: string\n              country: string\n          returns:\n              temperature: number\n              conditions: string\n              humidity: number\n              severe_weather_alert: boolean\n              alert_description: string\n          target: \"weather://get_weather\"\n\n      set_location:\n          description: \"Store user's city and country information\"\n          parameters:\n              city: string\n              country: string\n          implementation:\n              set @variable.user_city = @input.city\n              set @variable.user_country = @input.country\n\n  # Note that this requires working if-statements in jinja-2 templating to work well\n  # This will be much more powerful with the user of @collect, which is not a V1 implementation\n  task:\n      Please first gather the user's city/country information. When you have answers to both,\n      store them by using the set_location tool.\n\n      Once you have the user's location, find the weather by calling the get_weather\n\n      Here is the current weather for {{ @variable.user_city }}, {{ @variable.user_country }}:\n\n      Temperature: {{ @variable.current_weather.temperature }}Â°C\n      Conditions: {{ @variable.current_weather.conditions }}\n      Humidity: {{ @variable.current_weather.humidity }}%\n\n      Would you like a forecast for the next few days?\n\n  actions:\n      get_weather with city, country\n          set @variable.current_weather = @result\n\n      set_location with city, country\n\n  on response:\n      if @variable.current_weather.severe_weather_alert:\n          transition to @topic.severe_weather_warning\n\ntopic severe_weather_warning:\n  task:\n      Please inform the user of a sever weather warning. You should show something like this:\n\n      SEVERE WEATHER ALERT for {{ @variable.user_city }}, {{ @variable.user_country }}!\n\n      {{ @variable.current_weather.alert_description }}\n\n      Please take all necessary precautions and follow local guidance.\n\n      Would you like more information about this weather event\n"
}
